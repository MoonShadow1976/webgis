<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=0" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>asdasd</title>
  <style>
    body,
    html,
    #container {
      margin: 0;
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body>
  <div id="container"></div>
</body>
<script src="https://webapi.amap.com/maps?v=1.4.15&key=b53fb3c7832131eaeb6a5683f58a643f"></script>
<script>
  var map = new AMap.Map('container', {
    center: [114.305393, 30.593099],
    showLabel: false,
    //mapStyle: 'amap://styles/darkblue',
    zoom: 11
  });
  
  
  function Action(json) {
    AMap.plugin('AMap.GeoJSON', () => {
      new AMap.GeoJSON({
        geoJSON: json,
        // 一级 插旗子
        getPolygon: (area, lnglats) => {
          console.log('面', area, lnglats)
          const Pol = onCreatePolygon(lnglats)
          return Pol // 一定要返回实例 不能删
        },
        getMarker: function (geojson, lnglats) {
          console.log("点", lnglats);
        },
        getPolyline: function (geojson, lnglats) {
          console.log("线", lnglats);
        }
      })
      map.setFitView(null, false, [120, 2, 2, 2], 14)
    })
  }
  function onCreatePolygon(lnglats) {
    const styleRow = {
      strokeColor: '#00E1FF',
      strokeOpacity: 0.5,
      strokeWeight: 2,
      fillColor: '#003666',
      fillOpacity: 0.5
    }
    const POLY = new AMap.Polygon({
      path: lnglats,
      bubble: true,
      cursor: 'pointer',
      map: map,
      ...styleRow
    })
    POLY.on('mouseover', () => {
      POLY.setOptions({
        strokeColor: '#0092bc',
        strokeOpacity: 1,
        strokeWeight: 3,
        fillColor: '#00427d',
        fillOpacity: 0.6
      })
    })
    POLY.on('mouseout', () => POLY.setOptions(styleRow))
    return POLY
  }
  //调用函数
  Action({
    "type": "FeatureCollection",
    "name": "whu",
    "crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
    "features": [
    { "type": "Feature", "properties": { "osm_id": "7728026", "osm_way_id": null, "name": "武汉大学信息学部", "type": "multipolygon", "aeroway": null, "amenity": "university", "admin_leve": null, "barrier": null, "boundary": null, "building": null, "craft": null, "geological": null, "historic": null, "land_area": null, "landuse": null, "leisure": null, "man_made": null, "military": null, "natural": null, "office": null, "place": "neighbourhood", "shop": null, "sport": null, "tourism": null, "other_tags": "\"alt_name\"=>\"竹园\",\"name:en\"=>\"Faculty of Information Sciences, Wuhan University\",\"name:zh\"=>\"武汉大学信息学部\",\"old_name\"=>\"武汉测绘科技大学\",\"wikidata\"=>\"Q11124550\",\"wikipedia\"=>\"zh:武汉大学信息科学学部\"", "MJ": 4603.115, "MJ1": null, "MJ2": null }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 114.3491189, 30.5290529 ], [ 114.3495449, 30.5289007 ], [ 114.3496354, 30.5289017 ], [ 114.3496322, 30.5291504 ], [ 114.3519123, 30.529256 ], [ 114.3519392, 30.5283988 ], [ 114.3519407, 30.5283481 ], [ 114.3519916, 30.5282796 ], [ 114.3520739, 30.5283331 ], [ 114.3538492, 30.5283216 ], [ 114.3538516, 30.5277265 ], [ 114.3539873, 30.5276683 ], [ 114.3539883, 30.5275921 ], [ 114.3546188, 30.52761 ], [ 114.3550614, 30.5275301 ], [ 114.3555523, 30.5272875 ], [ 114.3556134, 30.5270397 ], [ 114.355786, 30.5270167 ], [ 114.3558794, 30.5269894 ], [ 114.3559331, 30.5270564 ], [ 114.3563515, 30.5269871 ], [ 114.3564802, 30.5269455 ], [ 114.3566894, 30.5271581 ], [ 114.3568075, 30.5270842 ], [ 114.3569148, 30.527113 ], [ 114.3570368, 30.5272805 ], [ 114.3575236, 30.5281816 ], [ 114.3576765, 30.5285097 ], [ 114.3576094, 30.5285397 ], [ 114.3577336, 30.5288181 ], [ 114.3577712, 30.5288907 ], [ 114.3579929, 30.5294593 ], [ 114.35806, 30.5301987 ], [ 114.3575253, 30.5301834 ], [ 114.3575075, 30.5317928 ], [ 114.3574868, 30.5318086 ], [ 114.3573838, 30.5321706 ], [ 114.3573806, 30.5327187 ], [ 114.3573896, 30.5327821 ], [ 114.3575693, 30.5330591 ], [ 114.3575213, 30.5330774 ], [ 114.3573747, 30.5330795 ], [ 114.3571399, 30.5331615 ], [ 114.3556834, 30.5336677 ], [ 114.3551807, 30.5337851 ], [ 114.3549631, 30.5338484 ], [ 114.3546187, 30.5339674 ], [ 114.3539169, 30.5343176 ], [ 114.3538842, 30.534339 ], [ 114.3533916, 30.534553 ], [ 114.3533652, 30.5346124 ], [ 114.3522339, 30.5346629 ], [ 114.3522199, 30.534658 ], [ 114.3520251, 30.5350178 ], [ 114.3518679, 30.5349852 ], [ 114.3516572, 30.5348655 ], [ 114.3518669, 30.534625 ], [ 114.3510113, 30.5340892 ], [ 114.3516389, 30.5334954 ], [ 114.3510917, 30.5330519 ], [ 114.3514431, 30.5327007 ], [ 114.3518106, 30.5326776 ], [ 114.3518213, 30.5324489 ], [ 114.3515906, 30.5324535 ], [ 114.3515879, 30.5322895 ], [ 114.3512312, 30.5320423 ], [ 114.351258, 30.5316449 ], [ 114.3514994, 30.5313399 ], [ 114.3517408, 30.5313353 ], [ 114.3517374, 30.5311479 ], [ 114.3516781, 30.5311498 ], [ 114.3516766, 30.5307404 ], [ 114.3514288, 30.5307234 ], [ 114.3510808, 30.5307225 ], [ 114.3506458, 30.5306854 ], [ 114.3506143, 30.5306838 ], [ 114.3505982, 30.531333 ], [ 114.3505419, 30.5314878 ], [ 114.3505258, 30.5316518 ], [ 114.3493658, 30.5314483 ], [ 114.3492544, 30.5314323 ], [ 114.3489835, 30.5307299 ], [ 114.3490559, 30.5307068 ], [ 114.3490103, 30.5305821 ], [ 114.3490934, 30.5305382 ], [ 114.3488896, 30.5300923 ], [ 114.3491149, 30.5300276 ], [ 114.3490371, 30.5298543 ], [ 114.3491578, 30.529822 ], [ 114.3490237, 30.5294685 ], [ 114.3492249, 30.5294015 ], [ 114.3491189, 30.5290529 ] ] ] } },
    { "type": "Feature", "properties": { "osm_id": "10717504", "osm_way_id": null, "name": "武汉大学", "type": "multipolygon", "aeroway": null, "amenity": "university", "admin_leve": null, "barrier": null, "boundary": null, "building": null, "craft": null, "geological": null, "historic": null, "land_area": null, "landuse": null, "leisure": null, "man_made": null, "military": null, "natural": null, "office": null, "place": "neighbourhood", "shop": null, "sport": null, "tourism": null, "other_tags": "\"addr:city\"=>\"武汉市\",\"addr:country\"=>\"CN\",\"addr:district\"=>\"武昌区\",\"addr:housenumber\"=>\"299号\",\"addr:postcode\"=>\"430072\",\"addr:province\"=>\"湖北省\",\"addr:street\"=>\"八一路\",\"int_name\"=>\"Wuhan University\",\"name:de\"=>\"Wuhan-Universität\",\"name", "MJ": 26175.591, "MJ1": null, "MJ2": null }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 114.3567776, 30.5472628 ], [ 114.3564424, 30.5472326 ], [ 114.3563641, 30.547222 ], [ 114.3563401, 30.547267 ], [ 114.3562729, 30.5473929 ], [ 114.3550961, 30.5477753 ], [ 114.3550479, 30.5477846 ], [ 114.355021, 30.5477707 ], [ 114.3550069, 30.5477186 ], [ 114.3549239, 30.547749 ], [ 114.3547473, 30.5477465 ], [ 114.3549029, 30.5467995 ], [ 114.3546239, 30.5467764 ], [ 114.3544362, 30.5466655 ], [ 114.3541969, 30.5465209 ], [ 114.3542216, 30.5464299 ], [ 114.3525908, 30.5463051 ], [ 114.3520873, 30.5463048 ], [ 114.3504906, 30.5462578 ], [ 114.3504794, 30.5462575 ], [ 114.3505094, 30.5460002 ], [ 114.3503807, 30.5458293 ], [ 114.350327, 30.5457161 ], [ 114.3493938, 30.5458684 ], [ 114.3492892, 30.5457806 ], [ 114.3492852, 30.5449872 ], [ 114.3485677, 30.5449687 ], [ 114.3485396, 30.544785 ], [ 114.3487072, 30.5426598 ], [ 114.3484254, 30.5426326 ], [ 114.3475553, 30.5425592 ], [ 114.3475062, 30.5424996 ], [ 114.3475109, 30.5424011 ], [ 114.3474124, 30.5421531 ], [ 114.3480024, 30.5419683 ], [ 114.3483987, 30.5418328 ], [ 114.3490022, 30.5417612 ], [ 114.3490121, 30.541679 ], [ 114.3490196, 30.5415904 ], [ 114.3491511, 30.5412646 ], [ 114.3492729, 30.541047 ], [ 114.3499432, 30.5399053 ], [ 114.3503598, 30.5391926 ], [ 114.3508288, 30.5385201 ], [ 114.3510222, 30.5382968 ], [ 114.3511518, 30.5378001 ], [ 114.3512041, 30.5376446 ], [ 114.3512046, 30.5372472 ], [ 114.3511429, 30.5369261 ], [ 114.3509859, 30.536464 ], [ 114.3509834, 30.5364133 ], [ 114.3509965, 30.5363624 ], [ 114.3510389, 30.5363194 ], [ 114.3510854, 30.5362906 ], [ 114.3521012, 30.5357729 ], [ 114.3522103, 30.5357155 ], [ 114.3522848, 30.5357118 ], [ 114.3523445, 30.5357432 ], [ 114.3533123, 30.5354281 ], [ 114.3532855, 30.5353634 ], [ 114.3532801, 30.5353079 ], [ 114.3533177, 30.5352663 ], [ 114.353432, 30.5351946 ], [ 114.3544655, 30.5346564 ], [ 114.3550406, 30.534417 ], [ 114.355166, 30.5343632 ], [ 114.3559289, 30.5341009 ], [ 114.3568461, 30.5337314 ], [ 114.3569475, 30.5336946 ], [ 114.3575037, 30.5335143 ], [ 114.357576, 30.533496 ], [ 114.3575773, 30.5333993 ], [ 114.3576459, 30.5333753 ], [ 114.3583484, 30.5331296 ], [ 114.3589919, 30.5329151 ], [ 114.3595844, 30.5327225 ], [ 114.3597467, 30.5326702 ], [ 114.3597858, 30.5326577 ], [ 114.3599402, 30.5326083 ], [ 114.36001, 30.5328232 ], [ 114.3607047, 30.5326522 ], [ 114.3607234, 30.5326938 ], [ 114.360828, 30.5327747 ], [ 114.3609622, 30.5328024 ], [ 114.3611596, 30.5327991 ], [ 114.3612357, 30.5327978 ], [ 114.361225, 30.5326407 ], [ 114.3612854, 30.5326351 ], [ 114.3624025, 30.5325321 ], [ 114.3623837, 30.5323866 ], [ 114.3623113, 30.5321093 ], [ 114.3623477, 30.5321039 ], [ 114.3624425, 30.5320867 ], [ 114.3629907, 30.5319724 ], [ 114.3630242, 30.5319169 ], [ 114.3630763, 30.5319585 ], [ 114.3636095, 30.5318549 ], [ 114.363941, 30.5317929 ], [ 114.3642399, 30.5328323 ], [ 114.3642788, 30.5332032 ], [ 114.3642586, 30.5340776 ], [ 114.3660475, 30.5343317 ], [ 114.366223, 30.5343982 ], [ 114.3664231, 30.5344588 ], [ 114.3674128, 30.5350893 ], [ 114.3675326, 30.5351447 ], [ 114.3675524, 30.5351148 ], [ 114.367767, 30.5347914 ], [ 114.3679494, 30.5348376 ], [ 114.3679468, 30.5347839 ], [ 114.3683033, 30.5347613 ], [ 114.3687566, 30.5349877 ], [ 114.3686601, 30.5351448 ], [ 114.369218, 30.535392 ], [ 114.3692689, 30.5353782 ], [ 114.3696364, 30.5351056 ], [ 114.3699127, 30.5347775 ], [ 114.3700147, 30.5345835 ], [ 114.3702514, 30.534555 ], [ 114.37105, 30.5344587 ], [ 114.371093, 30.5345742 ], [ 114.3710685, 30.5345848 ], [ 114.371112, 30.5345967 ], [ 114.3711326, 30.5346498 ], [ 114.3711576, 30.5347419 ], [ 114.3712002, 30.5349254 ], [ 114.3711625, 30.5349652 ], [ 114.3712378, 30.5352118 ], [ 114.3711718, 30.5352487 ], [ 114.3711023, 30.5352737 ], [ 114.3710532, 30.5353058 ], [ 114.3709633, 30.5353485 ], [ 114.3709144, 30.5353912 ], [ 114.3708204, 30.5354482 ], [ 114.3705099, 30.5356334 ], [ 114.3704247, 30.5358356 ], [ 114.3702783, 30.5360983 ], [ 114.370401, 30.5362191 ], [ 114.3707765, 30.5364686 ], [ 114.3708891, 30.5364732 ], [ 114.3709845, 30.5366497 ], [ 114.371038, 30.5367077 ], [ 114.3711305, 30.5366811 ], [ 114.3711827, 30.5368 ], [ 114.3713316, 30.536732 ], [ 114.371447, 30.5366257 ], [ 114.3715596, 30.5366673 ], [ 114.371624, 30.5367597 ], [ 114.3716401, 30.5370369 ], [ 114.3718333, 30.537023 ], [ 114.3718371, 30.5374609 ], [ 114.3718385, 30.5377462 ], [ 114.3716937, 30.5380142 ], [ 114.3715622, 30.5381713 ], [ 114.3713235, 30.5384023 ], [ 114.3708702, 30.5388481 ], [ 114.3704625, 30.5392316 ], [ 114.3701541, 30.5395135 ], [ 114.3700012, 30.5396983 ], [ 114.3694943, 30.5400147 ], [ 114.3690651, 30.540486 ], [ 114.3689578, 30.5406408 ], [ 114.368577, 30.5416849 ], [ 114.3684536, 30.5419298 ], [ 114.368298, 30.5421839 ], [ 114.3682497, 30.5422902 ], [ 114.3682068, 30.5424288 ], [ 114.3680942, 30.5426921 ], [ 114.3679922, 30.5432142 ], [ 114.3679171, 30.5436993 ], [ 114.3677723, 30.5442167 ], [ 114.3676865, 30.54442 ], [ 114.367547, 30.5445817 ], [ 114.3672412, 30.5447711 ], [ 114.3667799, 30.5450899 ], [ 114.3665975, 30.5452008 ], [ 114.3662917, 30.5453302 ], [ 114.3656426, 30.5455242 ], [ 114.3651974, 30.5456166 ], [ 114.3650787, 30.5456588 ], [ 114.3650381, 30.5456699 ], [ 114.3643552, 30.5458568 ], [ 114.3640832, 30.5460006 ], [ 114.363025, 30.5465601 ], [ 114.3618461, 30.5469755 ], [ 114.3606483, 30.5476078 ], [ 114.3606002, 30.5476176 ], [ 114.3605196, 30.5476482 ], [ 114.3604713, 30.5476668 ], [ 114.3604518, 30.5476863 ], [ 114.3603901, 30.5477648 ], [ 114.3602969, 30.5478608 ], [ 114.360018, 30.5479162 ], [ 114.3598812, 30.5479301 ], [ 114.3597712, 30.5479024 ], [ 114.3596103, 30.54781 ], [ 114.3594225, 30.5476737 ], [ 114.3591644, 30.5475731 ], [ 114.3587352, 30.5474183 ], [ 114.3582585, 30.5473387 ], [ 114.3576194, 30.5472774 ], [ 114.3574779, 30.5472787 ], [ 114.3568557, 30.5473087 ], [ 114.356855, 30.5472705 ], [ 114.3567776, 30.5472628 ] ] ] } },
    { "type": "Feature", "properties": { "osm_id": null, "osm_way_id": "368429583", "name": "武汉大学医学部", "type": null, "aeroway": null, "amenity": "university", "admin_leve": null, "barrier": null, "boundary": null, "building": null, "craft": null, "geological": null, "historic": null, "land_area": null, "landuse": null, "leisure": null, "man_made": null, "military": null, "natural": null, "office": null, "place": null, "shop": null, "sport": null, "tourism": null, "other_tags": "\"alt_name\"=>\"杏园\",\"alt_name:en\"=>\"Wuhan University School of Medicine\",\"name:en\"=>\"Faculty of Medical Sciences, Wuhan University\",\"name:zh\"=>\"武汉大学医学部\",\"old_name\"=>\"湖北医科大学\",\"wikidata\"=>\"Q8039091\",\"wikipedia\"=>\"zh:武汉大学�", "MJ": 3506.953, "MJ1": null, "MJ2": null }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 114.3437813, 30.5577502 ], [ 114.3432963, 30.5572659 ], [ 114.3427042, 30.5566047 ], [ 114.3424489, 30.5562013 ], [ 114.3427306, 30.5560198 ], [ 114.3436923, 30.5553547 ], [ 114.3439751, 30.5552208 ], [ 114.3444723, 30.5551256 ], [ 114.3450125, 30.5550232 ], [ 114.3468203, 30.5548905 ], [ 114.3481104, 30.5545177 ], [ 114.3492591, 30.554434 ], [ 114.3502665, 30.5541296 ], [ 114.3513761, 30.553959 ], [ 114.3517994, 30.5540656 ], [ 114.3521088, 30.55436 ], [ 114.3528188, 30.5557959 ], [ 114.3527534, 30.5562657 ], [ 114.3520699, 30.5574883 ], [ 114.3522186, 30.5575555 ], [ 114.3518201, 30.5583179 ], [ 114.3515387, 30.5584197 ], [ 114.3514715, 30.5590521 ], [ 114.3512335, 30.5590567 ], [ 114.3464013, 30.558552 ], [ 114.3466402, 30.5572694 ], [ 114.3460501, 30.5571789 ], [ 114.345714, 30.5570805 ], [ 114.3454701, 30.5570227 ], [ 114.3449294, 30.5570064 ], [ 114.3448491, 30.5574461 ], [ 114.3442445, 30.5578836 ], [ 114.3437813, 30.5577502 ] ] ] } },
    { "type": "Feature", "properties": { "osm_id": "7728028", "osm_way_id": null, "name": "武汉大学附属中学", "type": "multipolygon", "aeroway": null, "amenity": "school", "admin_leve": null, "barrier": null, "boundary": null, "building": null, "craft": null, "geological": null, "historic": null, "land_area": null, "landuse": null, "leisure": null, "man_made": null, "military": null, "natural": null, "office": null, "place": null, "shop": null, "sport": null, "tourism": null, "other_tags": "\"name:zh\"=>\"武汉大学附属中学\"", "MJ": 240.927, "MJ1": null, "MJ2": null }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 114.3575693, 30.5330591 ], [ 114.3573896, 30.5327821 ], [ 114.3573806, 30.5327187 ], [ 114.3573838, 30.5321706 ], [ 114.3574868, 30.5318086 ], [ 114.3575075, 30.5317928 ], [ 114.3575253, 30.5301834 ], [ 114.35806, 30.5301987 ], [ 114.3580546, 30.5309357 ], [ 114.3585509, 30.5309426 ], [ 114.3585482, 30.5317212 ], [ 114.3582907, 30.531936 ], [ 114.3582746, 30.532643 ], [ 114.3583121, 30.5327377 ], [ 114.3578898, 30.5328784 ], [ 114.3575693, 30.5330591 ] ] ] } }
    ]
  })

</script>

</html>
